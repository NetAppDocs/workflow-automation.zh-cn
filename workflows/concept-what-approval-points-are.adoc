---
permalink: workflows/concept-what-approval-points-are.html 
sidebar: sidebar 
keywords: approval, points, check, inputs, workflow, pause, execution, resume, based, user 
summary: 批准点是工作流中用于暂停工作流执行并根据用户批准恢复工作流的检查点。 
---
= 什么是批准点
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
批准点是工作流中用于暂停工作流执行并根据用户批准恢复工作流的检查点。

下图中显示的蓝色竖条是一个批准点：

image::../media/approval_point.png[批准点]

您可以使用批准点来增量执行工作流，其中只有在满足特定条件后才应执行工作流的各个部分。例如，必须批准下一个部分或验证第一个部分的成功执行。批准点不会处理暂停和恢复工作流之间的任何过程。系统会按照 WFA 配置中的说明发送电子邮件和 SNMP 通知，并在收到工作流暂停通知后要求存储操作员执行某些操作。例如，存储操作员可以将计划详细信息发送给管理员，审批者或操作员进行审批，并在收到批准后恢复工作流。

有时可能不需要审批。在某些情况下，只有在满足特定条件且可以在添加批准点后配置这些条件时，才需要进行批准。例如，请考虑一个旨在增加卷大小的工作流。如果卷大小增加导致包含卷的聚合中的空间使用量达到 85% ，您可以在工作流开头添加一个批准点，以便存储操作员获得管理器的批准。在执行工作流期间以及选择导致此情况的卷时，执行将停止，直到获得批准为止。

为批准点设置的条件可以具有以下选项之一：

* 无任何条件
* 找到您指定的变量时
* 未找到您指定的变量时
* 指定的表达式的计算结果为 true 时


工作流中的批准点数量不受限制。您可以在工作流中的命令之前插入批准点，并将批准点之后的命令设置为在执行前等待批准。批准点可提供更改时间，用户和注释等信息，让您了解暂停或恢复工作流执行的时间和原因。批准点注释可以包括 MVEL 表达式。



== 预定义工作流中的批准点示例

您可以在设计器中打开以下预定义工作流，以了解批准点的使用方式：

* 删除集群模式 Data ONTAP 卷
* HA 对的控制器和磁盘架升级
* 迁移卷

